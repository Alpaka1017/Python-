import tkinter as tk
import numpy as np
import matplotlib.pyplot as plt
from matplotlib.backends.backend_tkagg import FigureCanvasTkAgg

class WaveformPlotter:
    def __init__(self, master):
        self.master = master
        self.master.title("波形绘制器")
        
        # 创建按钮
        self.button = tk.Button(self.master, text="绘制波形", command=self.plot_waveform)
        self.button.pack(side="top", padx=10, pady=10)
        
        # 创建绘图区域
        self.fig, self.ax = plt.subplots()
        self.canvas = FigureCanvasTkAgg(self.fig, master=self.master)
        self.canvas.get_tk_widget().pack(side="bottom", fill="both", expand=True)
        
        self.x_data = np.arange(0, 2*np.pi, 0.01)
        self.y_data = np.sin(self.x_data)
        
    def plot_waveform(self):
        # 绘制动态波形
        for i in range(100):
            self.ax.clear()
            self.y_data = np.sin(self.x_data + i/10)
            self.ax.plot(self.x_data, self.y_data)
            self.canvas.draw()
            self.canvas.flush_events()
        
root = tk.Tk()
app = WaveformPlotter(root)
root.mainloop()
